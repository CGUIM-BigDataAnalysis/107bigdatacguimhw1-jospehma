107-2 大數據分析方法 作業一
================
馬融

搞不清楚各行各業的薪資差異嗎? 念研究所到底對第一份工作的薪資影響有多大? CP值高嗎? 透過分析**初任人員平均經常性薪資**- [開放資料連結](https://data.gov.tw/dataset/6647)，可初步了解台灣近幾年各行各業、各學歷的起薪。

比較103年度和106年度大學畢業者的薪資資料
----------------------------------------

### 資料匯入與處理

``` r
library(readr)
```

    ## Warning: package 'readr' was built under R version 3.5.3

``` r
X103 <- read_csv("C:/Users/ma/Desktop/BigData/103.csv")
```

    ## Parsed with column specification:
    ## cols(
    ##   年度 = col_double(),
    ##   大職業別 = col_character(),
    ##   `經常性薪資-薪資` = col_double(),
    ##   `經常性薪資-女/男` = col_double(),
    ##   `國中及以下-薪資` = col_character(),
    ##   `國中及以下-女/男` = col_character(),
    ##   `高中或高職-薪資` = col_character(),
    ##   `高中或高職-女/男` = col_character(),
    ##   `專科-薪資` = col_character(),
    ##   `專科-女/男` = col_character(),
    ##   `大學-薪資` = col_double(),
    ##   `大學-女/男` = col_character(),
    ##   `研究所及以上-薪資` = col_character(),
    ##   `研究所及以上-女/男` = col_character()
    ## )

``` r
X104 <- read_csv("C:/Users/ma/Desktop/BigData/104.csv")
```

    ## Parsed with column specification:
    ## cols(
    ##   年度 = col_double(),
    ##   大職業別 = col_character(),
    ##   `經常性薪資-薪資` = col_double(),
    ##   `經常性薪資-女/男` = col_character(),
    ##   `國中及以下-薪資` = col_character(),
    ##   `國中及以下-女/男` = col_character(),
    ##   `高中或高職-薪資` = col_character(),
    ##   `高中或高職-女/男` = col_character(),
    ##   `專科-薪資` = col_character(),
    ##   `專科-女/男` = col_character(),
    ##   `大學-薪資` = col_character(),
    ##   `大學-女/男` = col_character(),
    ##   `研究所及以上-薪資` = col_character(),
    ##   `研究所及以上-女/男` = col_character()
    ## )

``` r
X105 <- read_csv("C:/Users/ma/Desktop/BigData/105.csv")
```

    ## Parsed with column specification:
    ## cols(
    ##   年度 = col_double(),
    ##   大職業別 = col_character(),
    ##   `經常性薪資-薪資` = col_double(),
    ##   `經常性薪資-女/男` = col_character(),
    ##   `國中及以下-薪資` = col_character(),
    ##   `國中及以下-女/男` = col_character(),
    ##   `高中或高職-薪資` = col_character(),
    ##   `高中或高職-女/男` = col_character(),
    ##   `專科-薪資` = col_character(),
    ##   `專科-女/男` = col_character(),
    ##   `大學-薪資` = col_character(),
    ##   `大學-女/男` = col_character(),
    ##   `研究所及以上-薪資` = col_character(),
    ##   `研究所及以上-女/男` = col_character()
    ## )

``` r
X106 <- read_csv("C:/Users/ma/Desktop/BigData/106.csv")
```

    ## Parsed with column specification:
    ## cols(
    ##   年度 = col_double(),
    ##   大職業別 = col_character(),
    ##   `經常性薪資-薪資` = col_double(),
    ##   `經常性薪資-女/男` = col_character(),
    ##   `國中及以下-薪資` = col_character(),
    ##   `國中及以下-女/男` = col_character(),
    ##   `高中或高職-薪資` = col_character(),
    ##   `高中或高職-女/男` = col_character(),
    ##   `專科-薪資` = col_character(),
    ##   `專科-女/男` = col_character(),
    ##   `大學-薪資` = col_double(),
    ##   `大學-女/男` = col_character(),
    ##   `研究所及以上-薪資` = col_character(),
    ##   `研究所及以上-女/男` = col_character()
    ## )

``` r
for(n in 1:14){
  X103[[n]]<-gsub("—|…","",X103[[n]])
}
for(n in 1:14){
  X104[[n]]<-gsub("—|…","",X104[[n]])
}
for(n in 1:14){
  X105[[n]]<-gsub("—|…","",X105[[n]])
}
for(n in 1:14){
  X106[[n]]<-gsub("—|…","",X106[[n]])
}
library(dplyr)   
```

    ## Warning: package 'dplyr' was built under R version 3.5.3

    ## 
    ## Attaching package: 'dplyr'

    ## The following objects are masked from 'package:stats':
    ## 
    ##     filter, lag

    ## The following objects are masked from 'package:base':
    ## 
    ##     intersect, setdiff, setequal, union

``` r
X1036<-inner_join(X103,X106,by ="大職業別")
X1036$比例<-as.numeric(X106$`大學-薪資`) / as.numeric(X103$`大學-薪資`)
X1036<-arrange(X1036,desc(比例))
```

### 106年度薪資較103年度薪資高的職業有哪些?

``` r
Y1036<-X1036[X1036$比例>1,]
Y1036<-na.omit(Y1036)
knitr::kable(head(Y1036$大職業別,10))
```

| x                                         |
|:------------------------------------------|
| 其他服務業-技術員及助理專業人員           |
| 住宿及餐飲業-服務及銷售工作人員           |
| 用水供應及污染整治業-技術員及助理專業人員 |
| 專業\_科學及技術服務業-專業人員           |
| 其他服務業-技藝\_機械設備操作及組裝人員   |
| 營造業-服務及銷售工作人員                 |
| 其他服務業-專業人員                       |
| 資訊及通訊傳播業-專業人員                 |
| 不動產業-專業人員                         |
| 教育服務業-事務支援人員                   |

### 提高超過5%的的職業有哪些?

``` r
Z1036<-X1036[X1036$比例>1.05,]
Z1036<-na.omit(Z1036)
knitr::kable(Z1036$大職業別)
```

| x                                                   |
|:----------------------------------------------------|
| 其他服務業-技術員及助理專業人員                     |
| 住宿及餐飲業-服務及銷售工作人員                     |
| 用水供應及污染整治業-技術員及助理專業人員           |
| 專業\_科學及技術服務業-專業人員                     |
| 其他服務業-技藝\_機械設備操作及組裝人員             |
| 營造業-服務及銷售工作人員                           |
| 其他服務業-專業人員                                 |
| 資訊及通訊傳播業-專業人員                           |
| 不動產業-專業人員                                   |
| 教育服務業-事務支援人員                             |
| 住宿及餐飲業-技術員及助理專業人員                   |
| 專業\_科學及技術服務業-技藝\_機械設備操作及組裝人員 |
| 運輸及倉儲業-技藝\_機械設備操作及組裝人員           |
| 其他服務業-事務支援人員                             |
| 教育服務業-服務及銷售工作人員                       |
| 用水供應及污染整治業                                |
| 用水供應及污染整治業-專業人員                       |
| 資訊及通訊傳播業                                    |
| 支援服務業-服務及銷售工作人員                       |
| 藝術\_娛樂及休閒服務業-技藝\_機械設備操作及組裝人員 |
| 資訊及通訊傳播業-事務支援人員                       |
| 教育服務業                                          |
| 營造業-專業人員                                     |
| 專業\_科學及技術服務業                              |
| 支援服務業-技藝\_機械設備操作及組裝人員             |
| 住宿及餐飲業                                        |
| 住宿及餐飲業-技藝\_機械設備操作及組裝人員           |
| 電力及燃氣供應業-服務及銷售工作人員                 |
| 運輸及倉儲業-技術員及助理專業人員                   |
| 運輸及倉儲業-事務支援人員                           |
| 醫療保健服務業-技術員及助理專業人員                 |
| 專業\_科學及技術服務業-技術員及助理專業人員         |
| 支援服務業-技術員及助理專業人員                     |
| 用水供應及污染整治業-服務及銷售工作人員             |
| 礦業及土石採取業-技藝\_機械設備操作及組裝人員       |
| 用水供應及污染整治業-技藝\_機械設備操作及組裝人員   |
| 服務業部門-技藝\_機械設備操作及組裝人員             |
| 教育服務業-技術員及助理專業人員                     |
| 服務業部門-專業人員                                 |
| 運輸及倉儲業                                        |
| 資訊及通訊傳播業-技術員及助理專業人員               |
| 醫療保健服務業-技藝\_機械設備操作及組裝人員         |
| 用水供應及污染整治業-事務支援人員                   |
| 金融及保險業-事務支援人員                           |
| 服務業部門-技術員及助理專業人員                     |
| 藝術\_娛樂及休閒服務業-事務支援人員                 |
| 藝術\_娛樂及休閒服務業                              |
| 營造業-事務支援人員                                 |
| 工業及服務業部門-專業人員                           |
| 服務業部門-事務支援人員                             |
| 電力及燃氣供應業-技藝\_機械設備操作及組裝人員       |
| 教育服務業-專業人員                                 |
| 專業\_科學及技術服務業-服務及銷售工作人員           |
| 服務業部門                                          |
| 其他服務業                                          |
| 製造業-專業人員                                     |
| 工業部門-專業人員                                   |
| 資訊及通訊傳播業-服務及銷售工作人員                 |

### 主要的職業種別是哪些種類呢?

``` r
work<-c(1)
for(i in c(1:41)){
  work<-c(work,strsplit(Z1036$大職業別,"-")[[i]][1])
}
work<-work[-1]
knitr::kable(table(work))
```

| work                   |  Freq|
|:-----------------------|-----:|
| 不動產業               |     1|
| 支援服務業             |     3|
| 用水供應及污染整治業   |     5|
| 住宿及餐飲業           |     4|
| 其他服務業             |     4|
| 服務業部門             |     2|
| 專業\_科學及技術服務業 |     4|
| 教育服務業             |     4|
| 資訊及通訊傳播業       |     4|
| 運輸及倉儲業           |     4|
| 電力及燃氣供應業       |     1|
| 營造業                 |     2|
| 醫療保健服務業         |     1|
| 藝術\_娛樂及休閒服務業 |     1|
| 礦業及土石採取業       |     1|

男女同工不同酬現況分析
----------------------

男女同工不同酬一直是性別平等中很重要的問題，分析資料來源為103到106年度的大學畢業薪資。

### 103到106年度的大學畢業薪資資料，哪些行業男生薪資比女生薪資多?

``` r
X103$`經常性薪資-女/男`<-as.numeric(X103$`經常性薪資-女/男`)
X104$`經常性薪資-女/男`<-as.numeric(X104$`經常性薪資-女/男`)
X105$`經常性薪資-女/男`<-as.numeric(X105$`經常性薪資-女/男`)
X106$`經常性薪資-女/男`<-as.numeric(X106$`經常性薪資-女/男`)
B103<-arrange(X103,X103$`經常性薪資-女/男`)
B104<-arrange(X104,X104$`經常性薪資-女/男`)
B105<-arrange(X105,X105$`經常性薪資-女/男`)
B106<-arrange(X106,X106$`經常性薪資-女/男`)
head(B103,10)
```

    ## # A tibble: 10 x 14
    ##    年度  大職業別 `經常性薪資-薪資`~ `經常性薪資-女/男`~ `國中及以下-薪資`~
    ##    <chr> <chr>    <chr>                       <dbl> <chr>           
    ##  1 2014  教育服務業-技~ 22545                        88.7 ""              
    ##  2 2014  其他服務業-技~ 24724                        89.1 ""              
    ##  3 2014  礦業及土石採取~ 25806                        89.9 ""              
    ##  4 2014  礦業及土石採取~ 21830                        91.9 20687           
    ##  5 2014  教育服務業-基~ 20702                        94   20334           
    ##  6 2014  礦業及土石採取~ 25277                        94.3 20631           
    ##  7 2014  電力及燃氣供應~ 22368                        94.7 22150           
    ##  8 2014  礦業及土石採取~ 23222                        95.2 20424           
    ##  9 2014  其他服務業-服~ 22021                        95.2 21272           
    ## 10 2014  電力及燃氣供應~ 26929                        95.5 ""              
    ## # ... with 9 more variables: `國中及以下-女/男` <chr>,
    ## #   `高中或高職-薪資` <chr>, `高中或高職-女/男` <chr>, `專科-薪資` <chr>,
    ## #   `專科-女/男` <chr>, `大學-薪資` <chr>, `大學-女/男` <chr>,
    ## #   `研究所及以上-薪資` <chr>, `研究所及以上-女/男` <chr>

``` r
head(B104,10)
```

    ## # A tibble: 10 x 14
    ##    年度  大職業別 `經常性薪資-薪資`~ `經常性薪資-女/男`~ `國中及以下-薪資`~
    ##    <chr> <chr>    <chr>                       <dbl> <chr>           
    ##  1 2015  礦業及土石採取~ 27809                        87.1 ""              
    ##  2 2015  電力及燃氣供應~ 27924                        90.5 ""              
    ##  3 2015  礦業及土石採取~ 29499                        92.3 ""              
    ##  4 2015  礦業及土石採取~ 26570                        92.8 22148           
    ##  5 2015  其他服務業-基~ 20498                        94.3 20109           
    ##  6 2015  金融及保險業-~ 28026                        94.6 ""              
    ##  7 2015  教育服務業-服~ 23678                        94.9 22333           
    ##  8 2015  礦業及土石採取~ 22426                        95.2 22148           
    ##  9 2015  電力及燃氣供應~ 22179                        95.5 20603           
    ## 10 2015  其他服務業-事~ 24620                        96.0 ""              
    ## # ... with 9 more variables: `國中及以下-女/男` <chr>,
    ## #   `高中或高職-薪資` <chr>, `高中或高職-女/男` <chr>, `專科-薪資` <chr>,
    ## #   `專科-女/男` <chr>, `大學-薪資` <chr>, `大學-女/男` <chr>,
    ## #   `研究所及以上-薪資` <chr>, `研究所及以上-女/男` <chr>

``` r
head(B105,10)
```

    ## # A tibble: 10 x 14
    ##    年度  大職業別 `經常性薪資-薪資`~ `經常性薪資-女/男`~ `國中及以下-薪資`~
    ##    <chr> <chr>    <chr>                       <dbl> <chr>           
    ##  1 2016  礦業及土石採取~ 22352                        93.6 22002           
    ##  2 2016  電力及燃氣供應~ 26947                        94.8 ""              
    ##  3 2016  其他服務業-技~ 26858                        95.1 ""              
    ##  4 2016  營造業-事務支~ 25009                        95.8 ""              
    ##  5 2016  礦業及土石採取~ 25281                        96.0 21771           
    ##  6 2016  用水供應及污染~ 26016                        96.1 ""              
    ##  7 2016  其他服務業~ 23598                        96.1 21335           
    ##  8 2016  運輸及倉儲業-~ 26049                        96.2 ""              
    ##  9 2016  專業、科學及技~ 23014                        96.2 22539           
    ## 10 2016  礦業及土石採取~ 26232                        96.2 ""              
    ## # ... with 9 more variables: `國中及以下-女/男` <chr>,
    ## #   `高中或高職-薪資` <chr>, `高中或高職-女/男` <chr>, `專科-薪資` <chr>,
    ## #   `專科-女/男` <chr>, `大學-薪資` <chr>, `大學-女/男` <chr>,
    ## #   `研究所及以上-薪資` <chr>, `研究所及以上-女/男` <chr>

``` r
head(B106,10)
```

    ## # A tibble: 10 x 14
    ##    年度  大職業別 `經常性薪資-薪資`~ `經常性薪資-女/男`~ `國中及以下-薪資`~
    ##    <chr> <chr>    <chr>                       <dbl> <chr>           
    ##  1 2017  電力及燃氣供應~ 27715                        92.9 ""              
    ##  2 2017  不動產業-基層~ 22252                        95.6 22005           
    ##  3 2017  用水供應及污染~ 26058                        96.0 ""              
    ##  4 2017  礦業及土石採取~ 26170                        96.2 22160           
    ##  5 2017  礦業及土石採取~ 22440                        96.4 22160           
    ##  6 2017  教育服務業-技~ 27778                        96.5 ""              
    ##  7 2017  教育服務業-專~ 28189                        96.7 ""              
    ##  8 2017  營造業-服務及~ 27308                        96.7 24667           
    ##  9 2017  礦業及土石採取~ 26988                        97.0 ""              
    ## 10 2017  電力及燃氣供應~ 28685                        97.2 24050           
    ## # ... with 9 more variables: `國中及以下-女/男` <chr>,
    ## #   `高中或高職-薪資` <chr>, `高中或高職-女/男` <chr>, `專科-薪資` <chr>,
    ## #   `專科-女/男` <chr>, `大學-薪資` <chr>, `大學-女/男` <chr>,
    ## #   `研究所及以上-薪資` <chr>, `研究所及以上-女/男` <chr>

### 哪些行業女生薪資比男生薪資多?

``` r
G103<-arrange(X103,desc(X103$`經常性薪資-女/男`))
G104<-arrange(X104,desc(X104$`經常性薪資-女/男`))
G105<-arrange(X105,desc(X105$`經常性薪資-女/男`))
G106<-arrange(X106,desc(X106$`經常性薪資-女/男`))

head(G104,1)
```

    ## # A tibble: 1 x 14
    ##   年度  大職業別 `經常性薪資-薪資`~ `經常性薪資-女/男`~ `國中及以下-薪資`~
    ##   <chr> <chr>    <chr>                       <dbl> <chr>           
    ## 1 2015  專業、科學及技~ 25678                        100. ""              
    ## # ... with 9 more variables: `國中及以下-女/男` <chr>,
    ## #   `高中或高職-薪資` <chr>, `高中或高職-女/男` <chr>, `專科-薪資` <chr>,
    ## #   `專科-女/男` <chr>, `大學-薪資` <chr>, `大學-女/男` <chr>,
    ## #   `研究所及以上-薪資` <chr>, `研究所及以上-女/男` <chr>

``` r
head(G105,1)
```

    ## # A tibble: 1 x 14
    ##   年度  大職業別 `經常性薪資-薪資`~ `經常性薪資-女/男`~ `國中及以下-薪資`~
    ##   <chr> <chr>    <chr>                       <dbl> <chr>           
    ## 1 2016  不動產業-技術~ 28491                        100. ""              
    ## # ... with 9 more variables: `國中及以下-女/男` <chr>,
    ## #   `高中或高職-薪資` <chr>, `高中或高職-女/男` <chr>, `專科-薪資` <chr>,
    ## #   `專科-女/男` <chr>, `大學-薪資` <chr>, `大學-女/男` <chr>,
    ## #   `研究所及以上-薪資` <chr>, `研究所及以上-女/男` <chr>

``` r
head(G106,1)
```

    ## # A tibble: 1 x 14
    ##   年度  大職業別 `經常性薪資-薪資`~ `經常性薪資-女/男`~ `國中及以下-薪資`~
    ##   <chr> <chr>    <chr>                       <dbl> <chr>           
    ## 1 2017  教育服務業-基~ 22148                        101. 21389           
    ## # ... with 9 more variables: `國中及以下-女/男` <chr>,
    ## #   `高中或高職-薪資` <chr>, `高中或高職-女/男` <chr>, `專科-薪資` <chr>,
    ## #   `專科-女/男` <chr>, `大學-薪資` <chr>, `大學-女/男` <chr>,
    ## #   `研究所及以上-薪資` <chr>, `研究所及以上-女/男` <chr>

關於男女薪資比例 我想說的是 真的非常不平衡 女生通常每年才一職業薪資多於男 但是幾乎其他職業男生都多於女性 就算是持平的也不佔多數 論能力來說 現今社會不應該會有什麼差別 且應該也只是個人差異而不是性別 看到資料才真正明白居然薪資比差這麼多 \#\# 研究所薪資差異

以106年度的資料來看，哪個職業別念研究所最划算呢 (研究所學歷薪資與大學學歷薪資增加比例最多)?

``` r
X106$薪資差<-as.numeric(X106$`研究所及以上-薪資`) / as.numeric(X106$`大學-薪資`)
X106<-arrange(X106,desc(薪資差))
head(X106,10)
```

    ## # A tibble: 10 x 15
    ##    年度  大職業別 `經常性薪資-薪資`~ `經常性薪資-女/男`~ `國中及以下-薪資`~
    ##    <chr> <chr>    <chr>                       <dbl> <chr>           
    ##  1 2017  礦業及土石採取~ 23441                        97.2 ""              
    ##  2 2017  專業_科學及技~ 29345                        97.9 23556           
    ##  3 2017  其他服務業-技~ 27270                        98.3 ""              
    ##  4 2017  專業_科學及技~ 26712                        98.5 ""              
    ##  5 2017  批發及零售業~ 26457                        98.5 23376           
    ##  6 2017  製造業   26782                        98.2 22563           
    ##  7 2017  藝術_娛樂及休~ 24602                        97.7 ""              
    ##  8 2017  工業部門 26860                        98.1 22669           
    ##  9 2017  工業及服務業部~ 27055                        98.3 22841           
    ## 10 2017  服務業部門~ 27363                        98.6 23045           
    ## # ... with 10 more variables: `國中及以下-女/男` <chr>,
    ## #   `高中或高職-薪資` <chr>, `高中或高職-女/男` <chr>, `專科-薪資` <chr>,
    ## #   `專科-女/男` <chr>, `大學-薪資` <chr>, `大學-女/男` <chr>,
    ## #   `研究所及以上-薪資` <chr>, `研究所及以上-女/男` <chr>, 薪資差 <dbl>

必須說考研的薪資還是有差 普遍多幾千 只是某些多的比較明顯 但是也有沒差多少的 不過較為專業的還是比較需要的樣子 因為薪資感覺差比較大 大概專業必須去精研的關係吧 \#\# 我有興趣的職業別薪資狀況分析

### 有興趣的職業別篩選，呈現薪資

``` r
Y106<-X106
knitr::kable(Y106[Y106$大職業別=="製造業",c(2,11,13)])
```

| 大職業別 | 大學-薪資 | 研究所及以上-薪資 |
|:---------|:----------|:------------------|
| 製造業   | 28155     | 33458             |

### 這些職業別研究所薪資與大學薪資差多少呢？

``` r
gap<-as.numeric(Y106[Y106$大職業別=="製造業",13])-as.numeric(Y106[Y106$大職業別=="製造業",11])
gap
```

    ## [1] 5303

差不多因為現今台灣社會起薪就是這樣 也沒有過高或過低的期待或害怕 差了5303 其實還算不少 也許會 只是要考好的研究所對我來說還是很難的 還是先顧好當下並同時慢慢準備吧
